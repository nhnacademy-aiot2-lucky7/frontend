<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<head>
    <meta charset="utf-8"/>
    <title>대시보드 로그 | Lucky Seven</title>
    <link href="/css/dashboard/dashboard-logs.css" rel="stylesheet"/>
    <script src="/js/dashboard/admin-dashboard-logs.js"></script>
</head>

<body>
<section layout:fragment="content">
    <main class="logs-container">
        <section class="logs-header">
            <h1>대시보드 로그</h1>
            <div class="header-right">
                <button id="backBtn" class="btn save-btn">확인</button>
            </div>
        </section>

        <!-- 필터 영역 추가 -->
        <section class="logs-filter">
            <form id="logs-search-form">
                <div class="filter-group">
                    <label for="department">부서</label>
                    <select id="department" name="department" class="filter-select">
                        <option value="">모든 부서</option>
                        <!-- 대시보드 옵션은 JavaScript로 동적 생성 -->
                    </select>
                </div>

                <div class="filter-group">
                    <label for="loglevel">로그 레벨</label>
                    <select id="loglevel" name="loglevel" class="filter-select">
                        <option value="">모든 레벨</option>
                        <option value="loglevel1">1</option>
                        <option value="loglevel2">2</option>
                        <option value="loglevel3">3</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="dashboard">대시보드</label>
                    <select id="dashboard" name="dashboard" class="filter-select">
                        <option value="">모든 대시보드</option>
                        <!-- 대시보드 옵션은 JavaScript로 동적 생성 -->
                    </select>
                </div>

                <div class="filter-group">
                    <label for="chart">차트</label>
                    <select id="chart" name="chart" class="filter-select">
                        <option value="">모든 차트</option>
                        <!-- 차트 옵션은 JavaScript로 동적 생성 -->
                    </select>
                </div>

                <div class="filter-group search-group">
                    <label for="log-content">로그 내용</label>
                    <input type="text" id="log-content" name="log-content" class="input-text" placeholder="로그 내용 검색">
                </div>

                <button type="submit" class="search-btn">검색</button>
            </form>
        </section>

        <!-- 로그 테이블 -->
        <section class="logs-table-wrapper">
            <table class="logs-table">
                <thead>
                <tr>
                    <th>부서</th>
                    <th>로그 레벨</th>
                    <th>차트 이름</th>
                    <th>로그 내용</th>
                    <th>로그 날짜</th>
                </tr>
                </thead>
                <tbody id="logs-table-body">
                <tr th:if="${#lists.isEmpty(logs)}">
                    <td colspan="5" style="text-align: center; padding: 2rem; color: #6c757d;">
                        로그가 없습니다.
                    </td>
                </tr>

                <tr th:each="log : ${logs}">
                    <td class="department-cell" th:text="${log.department}">시설팀</td>
                    <td class="level-cell" th:text="${log.loglevel}">1</td>
                    <td class="sensor-cell" th:text="${log.chartName}">센서-A</td>
                    <td class="message-cell" th:text="${log.message}">경고 발생</td>
                    <td class="date-cell" th:text="${#temporals.format(log.dateTime, 'yyyy-MM-dd HH:mm')}">2025-04-22</td>
                </tr>

                </tbody>
            </table>
        </section>
    </main>
</section>
</body>
</html>
