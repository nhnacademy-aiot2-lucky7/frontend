<!DOCTYPE html>

<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/layout}">

<head>
	<meta charset="utf-8"/>
	<title>멤버 관리 | Lucky Seven</title>
	<link href="/css/member-management.css" rel="stylesheet"/>
	<script src="/js/member-management.js"></script>
	<script th:inline="javascript">
		/*<![CDATA[*/
		window.members = /*[[${members}]]*/ [];
		/*]]>*/
	</script>
</head>

<body>
<section layout:fragment="content">
	<!--	본문내용 추가-->
	<main class="member-container" style="flex: 1;">
		<section class="member-header">
			<h1>멤버 목록 (관리자용)</h1>
		</section>

		<!-- 검색/필터 영역 -->
		<section class="member-filter">
			<form id="member-search-form">
				<input class="input-text" name="keyword" placeholder="이름, 이메일, 휴대전화 검색" type="text"/>
				<div class="department-filter">
					<label for="departmentSelect">부서</label>
					<select id="departmentSelect" name="department">
						<option value="">전체</option>
						<option th:each="dept : ${departments}" th:value="${dept.departmentId}" th:text="${dept.departmentName}"></option>
					</select>
				</div>
				<button class="search-btn" type="submit">검색</button>
			</form>
		</section>

		<!-- 멤버 테이블 -->
		<section class="member-table-wrapper">
			<table class="member-table">
				<thead>
				<tr>
					<th th:classappend="${sort == 'name' ? 'sorted' : ''}" data-sort="name">이름</th>
					<th th:classappend="${sort == 'email' ? 'sorted' : ''}" data-sort="email">이메일</th>
					<th th:classappend="${sort == 'department' ? 'sorted' : ''}" data-sort="department">부서</th>
					<th th:classappend="${sort == 'phone' ? 'sorted' : ''}" data-sort="phone">휴대전화</th>
				</tr>
				</thead>
				<tbody id="member-table-body">
				<tr th:if="${#lists.isEmpty(members)}">
					<td colspan="4" style="text-align: center; padding: 2rem; color: #6c757d;">
						멤버가 없습니다.
					</td>
				</tr>
				</tbody>
			</table>
		</section>
	</main>
</section>
</body>
</html>